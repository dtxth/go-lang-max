# Реализация пагинации, сортировки и поиска для /employees/all

## Что было добавлено

### 1. Новые методы в репозитории
- `GetAllWithSortingAndSearch()` - получение сотрудников с сортировкой и поиском
- `CountAllWithSearch()` - подсчет общего количества записей с учетом поиска

### 2. Новый метод в сервисе
- `GetAllEmployeesWithSortingAndSearch()` - бизнес-логика для работы с расширенными параметрами

### 3. Обновленный HTTP хендлер
- Поддержка новых query параметров: `sort_by`, `sort_order`, `search`
- Возврат структурированного ответа с метаданными пагинации

### 4. Новые структуры
- `PaginatedEmployeesResponse` - структура ответа с пагинацией
- `EmployeeServiceInterface` - интерфейс для сервиса сотрудников

## Поддерживаемые параметры

### Пагинация
- `limit` - количество записей (по умолчанию 50, максимум 100)
- `offset` - смещение от начала

### Сортировка
- `sort_by` - поле для сортировки (id, first_name, last_name, middle_name, phone, max_id, inn, kpp, role, university, created_at, updated_at)
- `sort_order` - порядок сортировки (asc, desc)

### Поиск
- `search` - поисковый запрос по всем полям сотрудника

## Поля для поиска
- Имя, фамилия, отчество сотрудника
- Название университета
- Номер телефона
- MAX ID
- ИНН, КПП
- Роль

## Формат ответа
```json
{
  "data": [...],
  "total": 150,
  "limit": 50,
  "offset": 0,
  "total_pages": 3
}
```

## Файлы изменены
1. `internal/domain/employee_repository.go` - добавлены новые методы в интерфейс
2. `internal/infrastructure/repository/employee_postgres.go` - реализация новых методов
3. `internal/usecase/employee_service.go` - новый метод сервиса
4. `internal/infrastructure/http/handler.go` - обновленный хендлер
5. `internal/domain/employee_service.go` - новый интерфейс сервиса

## Файлы созданы
1. `internal/infrastructure/http/handler_pagination_test.go` - тесты для новой функциональности
2. `PAGINATION_SORTING_SEARCH_API.md` - документация API
3. `USAGE_EXAMPLES.md` - примеры использования

## Тесты
Созданы тесты для проверки:
- Пагинации
- Поиска
- Сортировки
- Комбинированных запросов

## Обратная совместимость
Все изменения обратно совместимы. Старые запросы без новых параметров продолжают работать как раньше.

## Производительность
- Поиск использует LIKE с индексами
- Сортировка оптимизирована для индексированных полей
- Пагинация предотвращает загрузку больших объемов данных